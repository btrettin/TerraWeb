b44f405afc0709360f7f67153574a37c
'use strict';

var _chance = require('chance');

var _chance2 = _interopRequireDefault(_chance);

var _Login = require('../../src/actions/Login');

var LoginActions = _interopRequireWildcard(_Login);

var _Actions = require('../../src/reducers/Actions');

var _Actions2 = _interopRequireDefault(_Actions);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('Login Actions', function () {
  var chance = void 0;

  var createFakeEvent = function createFakeEvent() {
    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : chance.string();
    return {
      target: {
        value: value
      }
    };
  };

  beforeEach(function () {
    chance = (0, _chance2.default)();
  });

  describe('Set Email', function () {
    it('is a function', function () {
      expect(LoginActions.setEmail).toEqual(expect.any(Function));
    });

    it('returns a dispatch function', function () {
      var dispatchFunction = LoginActions.setEmail(createFakeEvent());

      expect(dispatchFunction).toEqual(expect.any(Function));
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.setEmail(createFakeEvent());

      dispatchFunction(mockDispatch);

      expect(mockDispatch).toHaveBeenCalled();
    });

    it('dispatches the correct action', function () {
      var mockDispatch = jest.fn();
      var fakeEventValue = chance.string();
      var dispatchFunction = LoginActions.setEmail(createFakeEvent(fakeEventValue));

      dispatchFunction(mockDispatch);

      var expectedAction = {
        type: _Actions2.default.login.setEmail,
        value: fakeEventValue
      };

      expect(mockDispatch).toHaveBeenCalledWith(expectedAction);
    });
  });

  describe('Set Password', function () {
    it('is a function', function () {
      expect(LoginActions.setPassword).toEqual(expect.any(Function));
    });

    it('returns a dispatch function', function () {
      var dispatchFunction = LoginActions.setPassword(createFakeEvent());

      expect(dispatchFunction).toEqual(expect.any(Function));
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.setPassword(createFakeEvent());

      dispatchFunction(mockDispatch);

      expect(mockDispatch).toHaveBeenCalled();
    });

    it('dispatches the correct action', function () {
      var mockDispatch = jest.fn();
      var fakeEventValue = chance.string();
      var dispatchFunction = LoginActions.setPassword(createFakeEvent(fakeEventValue));

      dispatchFunction(mockDispatch);

      var expectedAction = {
        type: _Actions2.default.login.setPassword,
        value: fakeEventValue
      };

      expect(mockDispatch).toHaveBeenCalledWith(expectedAction);
    });
  });

  describe('Set First Name', function () {
    it('is a function', function () {
      expect(LoginActions.setFirstName).toEqual(expect.any(Function));
    });

    it('returns a dispatch function', function () {
      var dispatchFunction = LoginActions.setFirstName(createFakeEvent());

      expect(dispatchFunction).toEqual(expect.any(Function));
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.setFirstName(createFakeEvent());

      dispatchFunction(mockDispatch);

      expect(mockDispatch).toHaveBeenCalled();
    });

    it('dispatches the correct action', function () {
      var mockDispatch = jest.fn();
      var fakeEventValue = chance.string();
      var dispatchFunction = LoginActions.setFirstName(createFakeEvent(fakeEventValue));

      dispatchFunction(mockDispatch);

      var expectedAction = {
        type: _Actions2.default.login.setFirstName,
        value: fakeEventValue
      };

      expect(mockDispatch).toHaveBeenCalledWith(expectedAction);
    });
  });

  describe('Set Last Name', function () {
    it('is a function', function () {
      expect(LoginActions.setLastName).toEqual(expect.any(Function));
    });

    it('returns a dispatch function', function () {
      var dispatchFunction = LoginActions.setLastName(createFakeEvent());

      expect(dispatchFunction).toEqual(expect.any(Function));
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.setLastName(createFakeEvent());

      dispatchFunction(mockDispatch);

      expect(mockDispatch).toHaveBeenCalled();
    });

    it('dispatches the correct action', function () {
      var mockDispatch = jest.fn();
      var fakeEventValue = chance.string();
      var dispatchFunction = LoginActions.setLastName(createFakeEvent(fakeEventValue));

      dispatchFunction(mockDispatch);

      var expectedAction = {
        type: _Actions2.default.login.setLastName,
        value: fakeEventValue
      };

      expect(mockDispatch).toHaveBeenCalledWith(expectedAction);
    });
  });

  describe('Set Password Repeat', function () {
    it('is a function', function () {
      expect(LoginActions.setPasswordRepeat).toEqual(expect.any(Function));
    });

    it('returns a dispatch function', function () {
      var dispatchFunction = LoginActions.setPasswordRepeat(createFakeEvent());

      expect(dispatchFunction).toEqual(expect.any(Function));
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.setPasswordRepeat(createFakeEvent());

      dispatchFunction(mockDispatch);

      expect(mockDispatch).toHaveBeenCalled();
    });

    it('dispatches the correct action', function () {
      var mockDispatch = jest.fn();
      var fakeEventValue = chance.string();
      var dispatchFunction = LoginActions.setPasswordRepeat(createFakeEvent(fakeEventValue));

      dispatchFunction(mockDispatch);

      var expectedAction = {
        type: _Actions2.default.login.setPasswordRepeat,
        value: fakeEventValue
      };

      expect(mockDispatch).toHaveBeenCalledWith(expectedAction);
    });
  });

  describe('Set Address', function () {
    it('is a function', function () {
      expect(LoginActions.setAddress).toEqual(expect.any(Function));
    });

    it('returns a dispatch function', function () {
      var dispatchFunction = LoginActions.setAddress(createFakeEvent());

      expect(dispatchFunction).toEqual(expect.any(Function));
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.setAddress(createFakeEvent());

      dispatchFunction(mockDispatch);

      expect(mockDispatch).toHaveBeenCalled();
    });

    it('dispatches the correct action', function () {
      var mockDispatch = jest.fn();
      var fakeEventValue = chance.string();
      var dispatchFunction = LoginActions.setAddress(createFakeEvent(fakeEventValue));

      dispatchFunction(mockDispatch);

      var expectedAction = {
        type: _Actions2.default.login.setAddress,
        value: fakeEventValue
      };

      expect(mockDispatch).toHaveBeenCalledWith(expectedAction);
    });
  });

  describe('Set City', function () {
    it('is a function', function () {
      expect(LoginActions.setCity).toEqual(expect.any(Function));
    });

    it('returns a dispatch function', function () {
      var dispatchFunction = LoginActions.setCity(createFakeEvent());

      expect(dispatchFunction).toEqual(expect.any(Function));
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.setCity(createFakeEvent());

      dispatchFunction(mockDispatch);

      expect(mockDispatch).toHaveBeenCalled();
    });

    it('dispatches the correct action', function () {
      var mockDispatch = jest.fn();
      var fakeEventValue = chance.string();
      var dispatchFunction = LoginActions.setCity(createFakeEvent(fakeEventValue));

      dispatchFunction(mockDispatch);

      var expectedAction = {
        type: _Actions2.default.login.setCity,
        value: fakeEventValue
      };

      expect(mockDispatch).toHaveBeenCalledWith(expectedAction);
    });
  });

  describe('Set Address State', function () {
    it('is a function', function () {
      expect(LoginActions.setAddressState).toEqual(expect.any(Function));
    });

    it('returns a dispatch function', function () {
      var dispatchFunction = LoginActions.setAddressState(createFakeEvent());

      expect(dispatchFunction).toEqual(expect.any(Function));
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.setAddressState(createFakeEvent());

      dispatchFunction(mockDispatch);

      expect(mockDispatch).toHaveBeenCalled();
    });

    it('dispatches the correct action', function () {
      var mockDispatch = jest.fn();
      var fakeEventValue = chance.string();
      var dispatchFunction = LoginActions.setAddressState({ value: fakeEventValue });

      dispatchFunction(mockDispatch);

      var expectedAction = {
        type: _Actions2.default.login.setAddressState,
        value: fakeEventValue
      };

      expect(mockDispatch).toHaveBeenCalledWith(expectedAction);
    });
  });

  describe('Set Zipcode', function () {
    it('is a function', function () {
      expect(LoginActions.setZipcode).toEqual(expect.any(Function));
    });

    it('returns a dispatch function', function () {
      var dispatchFunction = LoginActions.setZipcode(createFakeEvent());

      expect(dispatchFunction).toEqual(expect.any(Function));
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.setZipcode(createFakeEvent());

      dispatchFunction(mockDispatch);

      expect(mockDispatch).toHaveBeenCalled();
    });

    it('dispatches the correct action', function () {
      var mockDispatch = jest.fn();
      var fakeEventValue = chance.string();
      var dispatchFunction = LoginActions.setZipcode(createFakeEvent(fakeEventValue));

      dispatchFunction(mockDispatch);

      var expectedAction = {
        type: _Actions2.default.login.setZipcode,
        value: fakeEventValue
      };

      expect(mockDispatch).toHaveBeenCalledWith(expectedAction);
    });
  });

  describe('Open Login Modal', function () {
    it('is a function', function () {
      expect(LoginActions.closeModal).toEqual(expect.any(Function));
    });

    it('returns a dispatch function', function () {
      var dispatchFunction = LoginActions.openLoginModal();

      expect(dispatchFunction).toEqual(expect.any(Function));
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.openLoginModal();

      dispatchFunction(mockDispatch);

      expect(mockDispatch).toHaveBeenCalled();
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.openLoginModal();

      dispatchFunction(mockDispatch);

      var expectedAction = {
        type: _Actions2.default.login.toggleLoginModal
      };

      expect(mockDispatch).toHaveBeenCalledWith(expectedAction);
    });
  });

  describe('Open Signup Modal', function () {
    it('is a function', function () {
      expect(LoginActions.openSignupModal).toEqual(expect.any(Function));
    });

    it('returns a dispatch function', function () {
      var dispatchFunction = LoginActions.openSignupModal();

      expect(dispatchFunction).toEqual(expect.any(Function));
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.openSignupModal();

      dispatchFunction(mockDispatch);

      expect(mockDispatch).toHaveBeenCalled();
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.openSignupModal();

      dispatchFunction(mockDispatch);

      var expectedAction = {
        type: _Actions2.default.login.toggleSignupModal
      };

      expect(mockDispatch).toHaveBeenCalledWith(expectedAction);
    });
  });

  describe('Close Modal', function () {
    it('is a function', function () {
      expect(LoginActions.closeModal).toEqual(expect.any(Function));
    });

    it('returns a dispatch function', function () {
      var dispatchFunction = LoginActions.closeModal();

      expect(dispatchFunction).toEqual(expect.any(Function));
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.closeModal();

      dispatchFunction(mockDispatch);

      expect(mockDispatch).toHaveBeenCalled();
    });

    it('dispatches an action', function () {
      var mockDispatch = jest.fn();
      var dispatchFunction = LoginActions.closeModal();

      dispatchFunction(mockDispatch);

      var expectedAction = {
        type: _Actions2.default.login.clear
      };

      expect(mockDispatch).toHaveBeenCalledWith(expectedAction);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxvZ2luLnNwZWMuanMiXSwibmFtZXMiOlsiTG9naW5BY3Rpb25zIiwiZGVzY3JpYmUiLCJjaGFuY2UiLCJjcmVhdGVGYWtlRXZlbnQiLCJ2YWx1ZSIsInN0cmluZyIsInRhcmdldCIsImJlZm9yZUVhY2giLCJpdCIsImV4cGVjdCIsInNldEVtYWlsIiwidG9FcXVhbCIsImFueSIsIkZ1bmN0aW9uIiwiZGlzcGF0Y2hGdW5jdGlvbiIsIm1vY2tEaXNwYXRjaCIsImplc3QiLCJmbiIsInRvSGF2ZUJlZW5DYWxsZWQiLCJmYWtlRXZlbnRWYWx1ZSIsImV4cGVjdGVkQWN0aW9uIiwidHlwZSIsIkFjdGlvbnMiLCJsb2dpbiIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwic2V0UGFzc3dvcmQiLCJzZXRGaXJzdE5hbWUiLCJzZXRMYXN0TmFtZSIsInNldFBhc3N3b3JkUmVwZWF0Iiwic2V0QWRkcmVzcyIsInNldENpdHkiLCJzZXRBZGRyZXNzU3RhdGUiLCJzZXRaaXBjb2RlIiwiY2xvc2VNb2RhbCIsIm9wZW5Mb2dpbk1vZGFsIiwidG9nZ2xlTG9naW5Nb2RhbCIsIm9wZW5TaWdudXBNb2RhbCIsInRvZ2dsZVNpZ251cE1vZGFsIiwiY2xlYXIiXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFDQTs7SUFBWUEsWTs7QUFDWjs7Ozs7Ozs7QUFFQUMsU0FBUyxlQUFULEVBQTBCLFlBQU07QUFDOUIsTUFBSUMsZUFBSjs7QUFFQSxNQUFNQyxrQkFBa0IsU0FBbEJBLGVBQWtCO0FBQUEsUUFBQ0MsS0FBRCx1RUFBU0YsT0FBT0csTUFBUCxFQUFUO0FBQUEsV0FBOEI7QUFDcERDLGNBQVE7QUFDTkY7QUFETTtBQUQ0QyxLQUE5QjtBQUFBLEdBQXhCOztBQU1BRyxhQUFXLFlBQU07QUFDZkwsYUFBUyx1QkFBVDtBQUNELEdBRkQ7O0FBSUFELFdBQVMsV0FBVCxFQUFzQixZQUFNO0FBQzFCTyxPQUFHLGVBQUgsRUFBb0IsWUFBTTtBQUN4QkMsYUFBT1QsYUFBYVUsUUFBcEIsRUFBOEJDLE9BQTlCLENBQXNDRixPQUFPRyxHQUFQLENBQVdDLFFBQVgsQ0FBdEM7QUFDRCxLQUZEOztBQUlBTCxPQUFHLDZCQUFILEVBQWtDLFlBQU07QUFDdEMsVUFBTU0sbUJBQW1CZCxhQUFhVSxRQUFiLENBQXNCUCxpQkFBdEIsQ0FBekI7O0FBRUFNLGFBQU9LLGdCQUFQLEVBQXlCSCxPQUF6QixDQUFpQ0YsT0FBT0csR0FBUCxDQUFXQyxRQUFYLENBQWpDO0FBQ0QsS0FKRDs7QUFNQUwsT0FBRyxzQkFBSCxFQUEyQixZQUFNO0FBQy9CLFVBQU1PLGVBQWVDLEtBQUtDLEVBQUwsRUFBckI7QUFDQSxVQUFNSCxtQkFBbUJkLGFBQWFVLFFBQWIsQ0FBc0JQLGlCQUF0QixDQUF6Qjs7QUFFQVcsdUJBQWlCQyxZQUFqQjs7QUFFQU4sYUFBT00sWUFBUCxFQUFxQkcsZ0JBQXJCO0FBQ0QsS0FQRDs7QUFTQVYsT0FBRywrQkFBSCxFQUFvQyxZQUFNO0FBQ3hDLFVBQU1PLGVBQWVDLEtBQUtDLEVBQUwsRUFBckI7QUFDQSxVQUFNRSxpQkFBaUJqQixPQUFPRyxNQUFQLEVBQXZCO0FBQ0EsVUFBTVMsbUJBQW1CZCxhQUFhVSxRQUFiLENBQXNCUCxnQkFBZ0JnQixjQUFoQixDQUF0QixDQUF6Qjs7QUFFQUwsdUJBQWlCQyxZQUFqQjs7QUFFQSxVQUFNSyxpQkFBaUI7QUFDckJDLGNBQU1DLGtCQUFRQyxLQUFSLENBQWNiLFFBREM7QUFFckJOLGVBQU9lO0FBRmMsT0FBdkI7O0FBS0FWLGFBQU9NLFlBQVAsRUFBcUJTLG9CQUFyQixDQUEwQ0osY0FBMUM7QUFDRCxLQWJEO0FBY0QsR0FsQ0Q7O0FBb0NBbkIsV0FBUyxjQUFULEVBQXlCLFlBQU07QUFDN0JPLE9BQUcsZUFBSCxFQUFvQixZQUFNO0FBQ3hCQyxhQUFPVCxhQUFheUIsV0FBcEIsRUFBaUNkLE9BQWpDLENBQXlDRixPQUFPRyxHQUFQLENBQVdDLFFBQVgsQ0FBekM7QUFDRCxLQUZEOztBQUlBTCxPQUFHLDZCQUFILEVBQWtDLFlBQU07QUFDdEMsVUFBTU0sbUJBQW1CZCxhQUFheUIsV0FBYixDQUF5QnRCLGlCQUF6QixDQUF6Qjs7QUFFQU0sYUFBT0ssZ0JBQVAsRUFBeUJILE9BQXpCLENBQWlDRixPQUFPRyxHQUFQLENBQVdDLFFBQVgsQ0FBakM7QUFDRCxLQUpEOztBQU1BTCxPQUFHLHNCQUFILEVBQTJCLFlBQU07QUFDL0IsVUFBTU8sZUFBZUMsS0FBS0MsRUFBTCxFQUFyQjtBQUNBLFVBQU1ILG1CQUFtQmQsYUFBYXlCLFdBQWIsQ0FBeUJ0QixpQkFBekIsQ0FBekI7O0FBRUFXLHVCQUFpQkMsWUFBakI7O0FBRUFOLGFBQU9NLFlBQVAsRUFBcUJHLGdCQUFyQjtBQUNELEtBUEQ7O0FBU0FWLE9BQUcsK0JBQUgsRUFBb0MsWUFBTTtBQUN4QyxVQUFNTyxlQUFlQyxLQUFLQyxFQUFMLEVBQXJCO0FBQ0EsVUFBTUUsaUJBQWlCakIsT0FBT0csTUFBUCxFQUF2QjtBQUNBLFVBQU1TLG1CQUFtQmQsYUFBYXlCLFdBQWIsQ0FBeUJ0QixnQkFBZ0JnQixjQUFoQixDQUF6QixDQUF6Qjs7QUFFQUwsdUJBQWlCQyxZQUFqQjs7QUFFQSxVQUFNSyxpQkFBaUI7QUFDckJDLGNBQU1DLGtCQUFRQyxLQUFSLENBQWNFLFdBREM7QUFFckJyQixlQUFPZTtBQUZjLE9BQXZCOztBQUtBVixhQUFPTSxZQUFQLEVBQXFCUyxvQkFBckIsQ0FBMENKLGNBQTFDO0FBQ0QsS0FiRDtBQWNELEdBbENEOztBQW9DQW5CLFdBQVMsZ0JBQVQsRUFBMkIsWUFBTTtBQUMvQk8sT0FBRyxlQUFILEVBQW9CLFlBQU07QUFDeEJDLGFBQU9ULGFBQWEwQixZQUFwQixFQUFrQ2YsT0FBbEMsQ0FBMENGLE9BQU9HLEdBQVAsQ0FBV0MsUUFBWCxDQUExQztBQUNELEtBRkQ7O0FBSUFMLE9BQUcsNkJBQUgsRUFBa0MsWUFBTTtBQUN0QyxVQUFNTSxtQkFBbUJkLGFBQWEwQixZQUFiLENBQTBCdkIsaUJBQTFCLENBQXpCOztBQUVBTSxhQUFPSyxnQkFBUCxFQUF5QkgsT0FBekIsQ0FBaUNGLE9BQU9HLEdBQVAsQ0FBV0MsUUFBWCxDQUFqQztBQUNELEtBSkQ7O0FBTUFMLE9BQUcsc0JBQUgsRUFBMkIsWUFBTTtBQUMvQixVQUFNTyxlQUFlQyxLQUFLQyxFQUFMLEVBQXJCO0FBQ0EsVUFBTUgsbUJBQW1CZCxhQUFhMEIsWUFBYixDQUEwQnZCLGlCQUExQixDQUF6Qjs7QUFFQVcsdUJBQWlCQyxZQUFqQjs7QUFFQU4sYUFBT00sWUFBUCxFQUFxQkcsZ0JBQXJCO0FBQ0QsS0FQRDs7QUFTQVYsT0FBRywrQkFBSCxFQUFvQyxZQUFNO0FBQ3hDLFVBQU1PLGVBQWVDLEtBQUtDLEVBQUwsRUFBckI7QUFDQSxVQUFNRSxpQkFBaUJqQixPQUFPRyxNQUFQLEVBQXZCO0FBQ0EsVUFBTVMsbUJBQW1CZCxhQUFhMEIsWUFBYixDQUEwQnZCLGdCQUFnQmdCLGNBQWhCLENBQTFCLENBQXpCOztBQUVBTCx1QkFBaUJDLFlBQWpCOztBQUVBLFVBQU1LLGlCQUFpQjtBQUNyQkMsY0FBTUMsa0JBQVFDLEtBQVIsQ0FBY0csWUFEQztBQUVyQnRCLGVBQU9lO0FBRmMsT0FBdkI7O0FBS0FWLGFBQU9NLFlBQVAsRUFBcUJTLG9CQUFyQixDQUEwQ0osY0FBMUM7QUFDRCxLQWJEO0FBY0QsR0FsQ0Q7O0FBb0NBbkIsV0FBUyxlQUFULEVBQTBCLFlBQU07QUFDOUJPLE9BQUcsZUFBSCxFQUFvQixZQUFNO0FBQ3hCQyxhQUFPVCxhQUFhMkIsV0FBcEIsRUFBaUNoQixPQUFqQyxDQUF5Q0YsT0FBT0csR0FBUCxDQUFXQyxRQUFYLENBQXpDO0FBQ0QsS0FGRDs7QUFJQUwsT0FBRyw2QkFBSCxFQUFrQyxZQUFNO0FBQ3RDLFVBQU1NLG1CQUFtQmQsYUFBYTJCLFdBQWIsQ0FBeUJ4QixpQkFBekIsQ0FBekI7O0FBRUFNLGFBQU9LLGdCQUFQLEVBQXlCSCxPQUF6QixDQUFpQ0YsT0FBT0csR0FBUCxDQUFXQyxRQUFYLENBQWpDO0FBQ0QsS0FKRDs7QUFNQUwsT0FBRyxzQkFBSCxFQUEyQixZQUFNO0FBQy9CLFVBQU1PLGVBQWVDLEtBQUtDLEVBQUwsRUFBckI7QUFDQSxVQUFNSCxtQkFBbUJkLGFBQWEyQixXQUFiLENBQXlCeEIsaUJBQXpCLENBQXpCOztBQUVBVyx1QkFBaUJDLFlBQWpCOztBQUVBTixhQUFPTSxZQUFQLEVBQXFCRyxnQkFBckI7QUFDRCxLQVBEOztBQVNBVixPQUFHLCtCQUFILEVBQW9DLFlBQU07QUFDeEMsVUFBTU8sZUFBZUMsS0FBS0MsRUFBTCxFQUFyQjtBQUNBLFVBQU1FLGlCQUFpQmpCLE9BQU9HLE1BQVAsRUFBdkI7QUFDQSxVQUFNUyxtQkFBbUJkLGFBQWEyQixXQUFiLENBQXlCeEIsZ0JBQWdCZ0IsY0FBaEIsQ0FBekIsQ0FBekI7O0FBRUFMLHVCQUFpQkMsWUFBakI7O0FBRUEsVUFBTUssaUJBQWlCO0FBQ3JCQyxjQUFNQyxrQkFBUUMsS0FBUixDQUFjSSxXQURDO0FBRXJCdkIsZUFBT2U7QUFGYyxPQUF2Qjs7QUFLQVYsYUFBT00sWUFBUCxFQUFxQlMsb0JBQXJCLENBQTBDSixjQUExQztBQUNELEtBYkQ7QUFjRCxHQWxDRDs7QUFvQ0FuQixXQUFTLHFCQUFULEVBQWdDLFlBQU07QUFDcENPLE9BQUcsZUFBSCxFQUFvQixZQUFNO0FBQ3hCQyxhQUFPVCxhQUFhNEIsaUJBQXBCLEVBQXVDakIsT0FBdkMsQ0FBK0NGLE9BQU9HLEdBQVAsQ0FBV0MsUUFBWCxDQUEvQztBQUNELEtBRkQ7O0FBSUFMLE9BQUcsNkJBQUgsRUFBa0MsWUFBTTtBQUN0QyxVQUFNTSxtQkFBbUJkLGFBQWE0QixpQkFBYixDQUErQnpCLGlCQUEvQixDQUF6Qjs7QUFFQU0sYUFBT0ssZ0JBQVAsRUFBeUJILE9BQXpCLENBQWlDRixPQUFPRyxHQUFQLENBQVdDLFFBQVgsQ0FBakM7QUFDRCxLQUpEOztBQU1BTCxPQUFHLHNCQUFILEVBQTJCLFlBQU07QUFDL0IsVUFBTU8sZUFBZUMsS0FBS0MsRUFBTCxFQUFyQjtBQUNBLFVBQU1ILG1CQUFtQmQsYUFBYTRCLGlCQUFiLENBQStCekIsaUJBQS9CLENBQXpCOztBQUVBVyx1QkFBaUJDLFlBQWpCOztBQUVBTixhQUFPTSxZQUFQLEVBQXFCRyxnQkFBckI7QUFDRCxLQVBEOztBQVNBVixPQUFHLCtCQUFILEVBQW9DLFlBQU07QUFDeEMsVUFBTU8sZUFBZUMsS0FBS0MsRUFBTCxFQUFyQjtBQUNBLFVBQU1FLGlCQUFpQmpCLE9BQU9HLE1BQVAsRUFBdkI7QUFDQSxVQUFNUyxtQkFBbUJkLGFBQWE0QixpQkFBYixDQUErQnpCLGdCQUFnQmdCLGNBQWhCLENBQS9CLENBQXpCOztBQUVBTCx1QkFBaUJDLFlBQWpCOztBQUVBLFVBQU1LLGlCQUFpQjtBQUNyQkMsY0FBTUMsa0JBQVFDLEtBQVIsQ0FBY0ssaUJBREM7QUFFckJ4QixlQUFPZTtBQUZjLE9BQXZCOztBQUtBVixhQUFPTSxZQUFQLEVBQXFCUyxvQkFBckIsQ0FBMENKLGNBQTFDO0FBQ0QsS0FiRDtBQWNELEdBbENEOztBQW9DQW5CLFdBQVMsYUFBVCxFQUF3QixZQUFNO0FBQzVCTyxPQUFHLGVBQUgsRUFBb0IsWUFBTTtBQUN4QkMsYUFBT1QsYUFBYTZCLFVBQXBCLEVBQWdDbEIsT0FBaEMsQ0FBd0NGLE9BQU9HLEdBQVAsQ0FBV0MsUUFBWCxDQUF4QztBQUNELEtBRkQ7O0FBSUFMLE9BQUcsNkJBQUgsRUFBa0MsWUFBTTtBQUN0QyxVQUFNTSxtQkFBbUJkLGFBQWE2QixVQUFiLENBQXdCMUIsaUJBQXhCLENBQXpCOztBQUVBTSxhQUFPSyxnQkFBUCxFQUF5QkgsT0FBekIsQ0FBaUNGLE9BQU9HLEdBQVAsQ0FBV0MsUUFBWCxDQUFqQztBQUNELEtBSkQ7O0FBTUFMLE9BQUcsc0JBQUgsRUFBMkIsWUFBTTtBQUMvQixVQUFNTyxlQUFlQyxLQUFLQyxFQUFMLEVBQXJCO0FBQ0EsVUFBTUgsbUJBQW1CZCxhQUFhNkIsVUFBYixDQUF3QjFCLGlCQUF4QixDQUF6Qjs7QUFFQVcsdUJBQWlCQyxZQUFqQjs7QUFFQU4sYUFBT00sWUFBUCxFQUFxQkcsZ0JBQXJCO0FBQ0QsS0FQRDs7QUFTQVYsT0FBRywrQkFBSCxFQUFvQyxZQUFNO0FBQ3hDLFVBQU1PLGVBQWVDLEtBQUtDLEVBQUwsRUFBckI7QUFDQSxVQUFNRSxpQkFBaUJqQixPQUFPRyxNQUFQLEVBQXZCO0FBQ0EsVUFBTVMsbUJBQW1CZCxhQUFhNkIsVUFBYixDQUF3QjFCLGdCQUFnQmdCLGNBQWhCLENBQXhCLENBQXpCOztBQUVBTCx1QkFBaUJDLFlBQWpCOztBQUVBLFVBQU1LLGlCQUFpQjtBQUNyQkMsY0FBTUMsa0JBQVFDLEtBQVIsQ0FBY00sVUFEQztBQUVyQnpCLGVBQU9lO0FBRmMsT0FBdkI7O0FBS0FWLGFBQU9NLFlBQVAsRUFBcUJTLG9CQUFyQixDQUEwQ0osY0FBMUM7QUFDRCxLQWJEO0FBY0QsR0FsQ0Q7O0FBb0NBbkIsV0FBUyxVQUFULEVBQXFCLFlBQU07QUFDekJPLE9BQUcsZUFBSCxFQUFvQixZQUFNO0FBQ3hCQyxhQUFPVCxhQUFhOEIsT0FBcEIsRUFBNkJuQixPQUE3QixDQUFxQ0YsT0FBT0csR0FBUCxDQUFXQyxRQUFYLENBQXJDO0FBQ0QsS0FGRDs7QUFJQUwsT0FBRyw2QkFBSCxFQUFrQyxZQUFNO0FBQ3RDLFVBQU1NLG1CQUFtQmQsYUFBYThCLE9BQWIsQ0FBcUIzQixpQkFBckIsQ0FBekI7O0FBRUFNLGFBQU9LLGdCQUFQLEVBQXlCSCxPQUF6QixDQUFpQ0YsT0FBT0csR0FBUCxDQUFXQyxRQUFYLENBQWpDO0FBQ0QsS0FKRDs7QUFNQUwsT0FBRyxzQkFBSCxFQUEyQixZQUFNO0FBQy9CLFVBQU1PLGVBQWVDLEtBQUtDLEVBQUwsRUFBckI7QUFDQSxVQUFNSCxtQkFBbUJkLGFBQWE4QixPQUFiLENBQXFCM0IsaUJBQXJCLENBQXpCOztBQUVBVyx1QkFBaUJDLFlBQWpCOztBQUVBTixhQUFPTSxZQUFQLEVBQXFCRyxnQkFBckI7QUFDRCxLQVBEOztBQVNBVixPQUFHLCtCQUFILEVBQW9DLFlBQU07QUFDeEMsVUFBTU8sZUFBZUMsS0FBS0MsRUFBTCxFQUFyQjtBQUNBLFVBQU1FLGlCQUFpQmpCLE9BQU9HLE1BQVAsRUFBdkI7QUFDQSxVQUFNUyxtQkFBbUJkLGFBQWE4QixPQUFiLENBQXFCM0IsZ0JBQWdCZ0IsY0FBaEIsQ0FBckIsQ0FBekI7O0FBRUFMLHVCQUFpQkMsWUFBakI7O0FBRUEsVUFBTUssaUJBQWlCO0FBQ3JCQyxjQUFNQyxrQkFBUUMsS0FBUixDQUFjTyxPQURDO0FBRXJCMUIsZUFBT2U7QUFGYyxPQUF2Qjs7QUFLQVYsYUFBT00sWUFBUCxFQUFxQlMsb0JBQXJCLENBQTBDSixjQUExQztBQUNELEtBYkQ7QUFjRCxHQWxDRDs7QUFvQ0FuQixXQUFTLG1CQUFULEVBQThCLFlBQU07QUFDbENPLE9BQUcsZUFBSCxFQUFvQixZQUFNO0FBQ3hCQyxhQUFPVCxhQUFhK0IsZUFBcEIsRUFBcUNwQixPQUFyQyxDQUE2Q0YsT0FBT0csR0FBUCxDQUFXQyxRQUFYLENBQTdDO0FBQ0QsS0FGRDs7QUFJQUwsT0FBRyw2QkFBSCxFQUFrQyxZQUFNO0FBQ3RDLFVBQU1NLG1CQUFtQmQsYUFBYStCLGVBQWIsQ0FBNkI1QixpQkFBN0IsQ0FBekI7O0FBRUFNLGFBQU9LLGdCQUFQLEVBQXlCSCxPQUF6QixDQUFpQ0YsT0FBT0csR0FBUCxDQUFXQyxRQUFYLENBQWpDO0FBQ0QsS0FKRDs7QUFNQUwsT0FBRyxzQkFBSCxFQUEyQixZQUFNO0FBQy9CLFVBQU1PLGVBQWVDLEtBQUtDLEVBQUwsRUFBckI7QUFDQSxVQUFNSCxtQkFBbUJkLGFBQWErQixlQUFiLENBQTZCNUIsaUJBQTdCLENBQXpCOztBQUVBVyx1QkFBaUJDLFlBQWpCOztBQUVBTixhQUFPTSxZQUFQLEVBQXFCRyxnQkFBckI7QUFDRCxLQVBEOztBQVNBVixPQUFHLCtCQUFILEVBQW9DLFlBQU07QUFDeEMsVUFBTU8sZUFBZUMsS0FBS0MsRUFBTCxFQUFyQjtBQUNBLFVBQU1FLGlCQUFpQmpCLE9BQU9HLE1BQVAsRUFBdkI7QUFDQSxVQUFNUyxtQkFBbUJkLGFBQWErQixlQUFiLENBQTZCLEVBQUUzQixPQUFPZSxjQUFULEVBQTdCLENBQXpCOztBQUVBTCx1QkFBaUJDLFlBQWpCOztBQUVBLFVBQU1LLGlCQUFpQjtBQUNyQkMsY0FBTUMsa0JBQVFDLEtBQVIsQ0FBY1EsZUFEQztBQUVyQjNCLGVBQU9lO0FBRmMsT0FBdkI7O0FBS0FWLGFBQU9NLFlBQVAsRUFBcUJTLG9CQUFyQixDQUEwQ0osY0FBMUM7QUFDRCxLQWJEO0FBY0QsR0FsQ0Q7O0FBb0NBbkIsV0FBUyxhQUFULEVBQXdCLFlBQU07QUFDNUJPLE9BQUcsZUFBSCxFQUFvQixZQUFNO0FBQ3hCQyxhQUFPVCxhQUFhZ0MsVUFBcEIsRUFBZ0NyQixPQUFoQyxDQUF3Q0YsT0FBT0csR0FBUCxDQUFXQyxRQUFYLENBQXhDO0FBQ0QsS0FGRDs7QUFJQUwsT0FBRyw2QkFBSCxFQUFrQyxZQUFNO0FBQ3RDLFVBQU1NLG1CQUFtQmQsYUFBYWdDLFVBQWIsQ0FBd0I3QixpQkFBeEIsQ0FBekI7O0FBRUFNLGFBQU9LLGdCQUFQLEVBQXlCSCxPQUF6QixDQUFpQ0YsT0FBT0csR0FBUCxDQUFXQyxRQUFYLENBQWpDO0FBQ0QsS0FKRDs7QUFNQUwsT0FBRyxzQkFBSCxFQUEyQixZQUFNO0FBQy9CLFVBQU1PLGVBQWVDLEtBQUtDLEVBQUwsRUFBckI7QUFDQSxVQUFNSCxtQkFBbUJkLGFBQWFnQyxVQUFiLENBQXdCN0IsaUJBQXhCLENBQXpCOztBQUVBVyx1QkFBaUJDLFlBQWpCOztBQUVBTixhQUFPTSxZQUFQLEVBQXFCRyxnQkFBckI7QUFDRCxLQVBEOztBQVNBVixPQUFHLCtCQUFILEVBQW9DLFlBQU07QUFDeEMsVUFBTU8sZUFBZUMsS0FBS0MsRUFBTCxFQUFyQjtBQUNBLFVBQU1FLGlCQUFpQmpCLE9BQU9HLE1BQVAsRUFBdkI7QUFDQSxVQUFNUyxtQkFBbUJkLGFBQWFnQyxVQUFiLENBQXdCN0IsZ0JBQWdCZ0IsY0FBaEIsQ0FBeEIsQ0FBekI7O0FBRUFMLHVCQUFpQkMsWUFBakI7O0FBRUEsVUFBTUssaUJBQWlCO0FBQ3JCQyxjQUFNQyxrQkFBUUMsS0FBUixDQUFjUyxVQURDO0FBRXJCNUIsZUFBT2U7QUFGYyxPQUF2Qjs7QUFLQVYsYUFBT00sWUFBUCxFQUFxQlMsb0JBQXJCLENBQTBDSixjQUExQztBQUNELEtBYkQ7QUFjRCxHQWxDRDs7QUFvQ0FuQixXQUFTLGtCQUFULEVBQTZCLFlBQU07QUFDakNPLE9BQUcsZUFBSCxFQUFvQixZQUFNO0FBQ3hCQyxhQUFPVCxhQUFhaUMsVUFBcEIsRUFBZ0N0QixPQUFoQyxDQUF3Q0YsT0FBT0csR0FBUCxDQUFXQyxRQUFYLENBQXhDO0FBQ0QsS0FGRDs7QUFJQUwsT0FBRyw2QkFBSCxFQUFrQyxZQUFNO0FBQ3RDLFVBQU1NLG1CQUFtQmQsYUFBYWtDLGNBQWIsRUFBekI7O0FBRUF6QixhQUFPSyxnQkFBUCxFQUF5QkgsT0FBekIsQ0FBaUNGLE9BQU9HLEdBQVAsQ0FBV0MsUUFBWCxDQUFqQztBQUNELEtBSkQ7O0FBTUFMLE9BQUcsc0JBQUgsRUFBMkIsWUFBTTtBQUMvQixVQUFNTyxlQUFlQyxLQUFLQyxFQUFMLEVBQXJCO0FBQ0EsVUFBTUgsbUJBQW1CZCxhQUFha0MsY0FBYixFQUF6Qjs7QUFFQXBCLHVCQUFpQkMsWUFBakI7O0FBRUFOLGFBQU9NLFlBQVAsRUFBcUJHLGdCQUFyQjtBQUNELEtBUEQ7O0FBU0FWLE9BQUcsc0JBQUgsRUFBMkIsWUFBTTtBQUMvQixVQUFNTyxlQUFlQyxLQUFLQyxFQUFMLEVBQXJCO0FBQ0EsVUFBTUgsbUJBQW1CZCxhQUFha0MsY0FBYixFQUF6Qjs7QUFFQXBCLHVCQUFpQkMsWUFBakI7O0FBRUEsVUFBTUssaUJBQWlCO0FBQ3JCQyxjQUFNQyxrQkFBUUMsS0FBUixDQUFjWTtBQURDLE9BQXZCOztBQUlBMUIsYUFBT00sWUFBUCxFQUFxQlMsb0JBQXJCLENBQTBDSixjQUExQztBQUNELEtBWEQ7QUFZRCxHQWhDRDs7QUFrQ0FuQixXQUFTLG1CQUFULEVBQThCLFlBQU07QUFDbENPLE9BQUcsZUFBSCxFQUFvQixZQUFNO0FBQ3hCQyxhQUFPVCxhQUFhb0MsZUFBcEIsRUFBcUN6QixPQUFyQyxDQUE2Q0YsT0FBT0csR0FBUCxDQUFXQyxRQUFYLENBQTdDO0FBQ0QsS0FGRDs7QUFJQUwsT0FBRyw2QkFBSCxFQUFrQyxZQUFNO0FBQ3RDLFVBQU1NLG1CQUFtQmQsYUFBYW9DLGVBQWIsRUFBekI7O0FBRUEzQixhQUFPSyxnQkFBUCxFQUF5QkgsT0FBekIsQ0FBaUNGLE9BQU9HLEdBQVAsQ0FBV0MsUUFBWCxDQUFqQztBQUNELEtBSkQ7O0FBTUFMLE9BQUcsc0JBQUgsRUFBMkIsWUFBTTtBQUMvQixVQUFNTyxlQUFlQyxLQUFLQyxFQUFMLEVBQXJCO0FBQ0EsVUFBTUgsbUJBQW1CZCxhQUFhb0MsZUFBYixFQUF6Qjs7QUFFQXRCLHVCQUFpQkMsWUFBakI7O0FBRUFOLGFBQU9NLFlBQVAsRUFBcUJHLGdCQUFyQjtBQUNELEtBUEQ7O0FBU0FWLE9BQUcsc0JBQUgsRUFBMkIsWUFBTTtBQUMvQixVQUFNTyxlQUFlQyxLQUFLQyxFQUFMLEVBQXJCO0FBQ0EsVUFBTUgsbUJBQW1CZCxhQUFhb0MsZUFBYixFQUF6Qjs7QUFFQXRCLHVCQUFpQkMsWUFBakI7O0FBRUEsVUFBTUssaUJBQWlCO0FBQ3JCQyxjQUFNQyxrQkFBUUMsS0FBUixDQUFjYztBQURDLE9BQXZCOztBQUlBNUIsYUFBT00sWUFBUCxFQUFxQlMsb0JBQXJCLENBQTBDSixjQUExQztBQUNELEtBWEQ7QUFZRCxHQWhDRDs7QUFrQ0FuQixXQUFTLGFBQVQsRUFBd0IsWUFBTTtBQUM1Qk8sT0FBRyxlQUFILEVBQW9CLFlBQU07QUFDeEJDLGFBQU9ULGFBQWFpQyxVQUFwQixFQUFnQ3RCLE9BQWhDLENBQXdDRixPQUFPRyxHQUFQLENBQVdDLFFBQVgsQ0FBeEM7QUFDRCxLQUZEOztBQUlBTCxPQUFHLDZCQUFILEVBQWtDLFlBQU07QUFDdEMsVUFBTU0sbUJBQW1CZCxhQUFhaUMsVUFBYixFQUF6Qjs7QUFFQXhCLGFBQU9LLGdCQUFQLEVBQXlCSCxPQUF6QixDQUFpQ0YsT0FBT0csR0FBUCxDQUFXQyxRQUFYLENBQWpDO0FBQ0QsS0FKRDs7QUFNQUwsT0FBRyxzQkFBSCxFQUEyQixZQUFNO0FBQy9CLFVBQU1PLGVBQWVDLEtBQUtDLEVBQUwsRUFBckI7QUFDQSxVQUFNSCxtQkFBbUJkLGFBQWFpQyxVQUFiLEVBQXpCOztBQUVBbkIsdUJBQWlCQyxZQUFqQjs7QUFFQU4sYUFBT00sWUFBUCxFQUFxQkcsZ0JBQXJCO0FBQ0QsS0FQRDs7QUFTQVYsT0FBRyxzQkFBSCxFQUEyQixZQUFNO0FBQy9CLFVBQU1PLGVBQWVDLEtBQUtDLEVBQUwsRUFBckI7QUFDQSxVQUFNSCxtQkFBbUJkLGFBQWFpQyxVQUFiLEVBQXpCOztBQUVBbkIsdUJBQWlCQyxZQUFqQjs7QUFFQSxVQUFNSyxpQkFBaUI7QUFDckJDLGNBQU1DLGtCQUFRQyxLQUFSLENBQWNlO0FBREMsT0FBdkI7O0FBSUE3QixhQUFPTSxZQUFQLEVBQXFCUyxvQkFBckIsQ0FBMENKLGNBQTFDO0FBQ0QsS0FYRDtBQVlELEdBaENEO0FBaUNELENBdGJEIiwiZmlsZSI6IkxvZ2luLnNwZWMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2hhbmNlIGZyb20gJ2NoYW5jZSc7XG5pbXBvcnQgKiBhcyBMb2dpbkFjdGlvbnMgZnJvbSAnLi4vLi4vc3JjL2FjdGlvbnMvTG9naW4nO1xuaW1wb3J0IEFjdGlvbnMgZnJvbSAnLi4vLi4vc3JjL3JlZHVjZXJzL0FjdGlvbnMnO1xuXG5kZXNjcmliZSgnTG9naW4gQWN0aW9ucycsICgpID0+IHtcbiAgbGV0IGNoYW5jZTtcblxuICBjb25zdCBjcmVhdGVGYWtlRXZlbnQgPSAodmFsdWUgPSBjaGFuY2Uuc3RyaW5nKCkpID0+ICh7XG4gICAgdGFyZ2V0OiB7XG4gICAgICB2YWx1ZSxcbiAgICB9LFxuICB9KTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBjaGFuY2UgPSBDaGFuY2UoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NldCBFbWFpbCcsICgpID0+IHtcbiAgICBpdCgnaXMgYSBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGV4cGVjdChMb2dpbkFjdGlvbnMuc2V0RW1haWwpLnRvRXF1YWwoZXhwZWN0LmFueShGdW5jdGlvbikpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgYSBkaXNwYXRjaCBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGRpc3BhdGNoRnVuY3Rpb24gPSBMb2dpbkFjdGlvbnMuc2V0RW1haWwoY3JlYXRlRmFrZUV2ZW50KCkpO1xuXG4gICAgICBleHBlY3QoZGlzcGF0Y2hGdW5jdGlvbikudG9FcXVhbChleHBlY3QuYW55KEZ1bmN0aW9uKSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGlzcGF0Y2hlcyBhbiBhY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRGlzcGF0Y2ggPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBkaXNwYXRjaEZ1bmN0aW9uID0gTG9naW5BY3Rpb25zLnNldEVtYWlsKGNyZWF0ZUZha2VFdmVudCgpKTtcblxuICAgICAgZGlzcGF0Y2hGdW5jdGlvbihtb2NrRGlzcGF0Y2gpO1xuXG4gICAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGlzcGF0Y2hlcyB0aGUgY29ycmVjdCBhY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRGlzcGF0Y2ggPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBmYWtlRXZlbnRWYWx1ZSA9IGNoYW5jZS5zdHJpbmcoKTtcbiAgICAgIGNvbnN0IGRpc3BhdGNoRnVuY3Rpb24gPSBMb2dpbkFjdGlvbnMuc2V0RW1haWwoY3JlYXRlRmFrZUV2ZW50KGZha2VFdmVudFZhbHVlKSk7XG5cbiAgICAgIGRpc3BhdGNoRnVuY3Rpb24obW9ja0Rpc3BhdGNoKTtcblxuICAgICAgY29uc3QgZXhwZWN0ZWRBY3Rpb24gPSB7XG4gICAgICAgIHR5cGU6IEFjdGlvbnMubG9naW4uc2V0RW1haWwsXG4gICAgICAgIHZhbHVlOiBmYWtlRXZlbnRWYWx1ZSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdGVkQWN0aW9uKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NldCBQYXNzd29yZCcsICgpID0+IHtcbiAgICBpdCgnaXMgYSBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGV4cGVjdChMb2dpbkFjdGlvbnMuc2V0UGFzc3dvcmQpLnRvRXF1YWwoZXhwZWN0LmFueShGdW5jdGlvbikpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgYSBkaXNwYXRjaCBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGRpc3BhdGNoRnVuY3Rpb24gPSBMb2dpbkFjdGlvbnMuc2V0UGFzc3dvcmQoY3JlYXRlRmFrZUV2ZW50KCkpO1xuXG4gICAgICBleHBlY3QoZGlzcGF0Y2hGdW5jdGlvbikudG9FcXVhbChleHBlY3QuYW55KEZ1bmN0aW9uKSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGlzcGF0Y2hlcyBhbiBhY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRGlzcGF0Y2ggPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBkaXNwYXRjaEZ1bmN0aW9uID0gTG9naW5BY3Rpb25zLnNldFBhc3N3b3JkKGNyZWF0ZUZha2VFdmVudCgpKTtcblxuICAgICAgZGlzcGF0Y2hGdW5jdGlvbihtb2NrRGlzcGF0Y2gpO1xuXG4gICAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGlzcGF0Y2hlcyB0aGUgY29ycmVjdCBhY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRGlzcGF0Y2ggPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBmYWtlRXZlbnRWYWx1ZSA9IGNoYW5jZS5zdHJpbmcoKTtcbiAgICAgIGNvbnN0IGRpc3BhdGNoRnVuY3Rpb24gPSBMb2dpbkFjdGlvbnMuc2V0UGFzc3dvcmQoY3JlYXRlRmFrZUV2ZW50KGZha2VFdmVudFZhbHVlKSk7XG5cbiAgICAgIGRpc3BhdGNoRnVuY3Rpb24obW9ja0Rpc3BhdGNoKTtcblxuICAgICAgY29uc3QgZXhwZWN0ZWRBY3Rpb24gPSB7XG4gICAgICAgIHR5cGU6IEFjdGlvbnMubG9naW4uc2V0UGFzc3dvcmQsXG4gICAgICAgIHZhbHVlOiBmYWtlRXZlbnRWYWx1ZSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdGVkQWN0aW9uKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NldCBGaXJzdCBOYW1lJywgKCkgPT4ge1xuICAgIGl0KCdpcyBhIGZ1bmN0aW9uJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KExvZ2luQWN0aW9ucy5zZXRGaXJzdE5hbWUpLnRvRXF1YWwoZXhwZWN0LmFueShGdW5jdGlvbikpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgYSBkaXNwYXRjaCBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGRpc3BhdGNoRnVuY3Rpb24gPSBMb2dpbkFjdGlvbnMuc2V0Rmlyc3ROYW1lKGNyZWF0ZUZha2VFdmVudCgpKTtcblxuICAgICAgZXhwZWN0KGRpc3BhdGNoRnVuY3Rpb24pLnRvRXF1YWwoZXhwZWN0LmFueShGdW5jdGlvbikpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2Rpc3BhdGNoZXMgYW4gYWN0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0Rpc3BhdGNoID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgZGlzcGF0Y2hGdW5jdGlvbiA9IExvZ2luQWN0aW9ucy5zZXRGaXJzdE5hbWUoY3JlYXRlRmFrZUV2ZW50KCkpO1xuXG4gICAgICBkaXNwYXRjaEZ1bmN0aW9uKG1vY2tEaXNwYXRjaCk7XG5cbiAgICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdkaXNwYXRjaGVzIHRoZSBjb3JyZWN0IGFjdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tEaXNwYXRjaCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IGZha2VFdmVudFZhbHVlID0gY2hhbmNlLnN0cmluZygpO1xuICAgICAgY29uc3QgZGlzcGF0Y2hGdW5jdGlvbiA9IExvZ2luQWN0aW9ucy5zZXRGaXJzdE5hbWUoY3JlYXRlRmFrZUV2ZW50KGZha2VFdmVudFZhbHVlKSk7XG5cbiAgICAgIGRpc3BhdGNoRnVuY3Rpb24obW9ja0Rpc3BhdGNoKTtcblxuICAgICAgY29uc3QgZXhwZWN0ZWRBY3Rpb24gPSB7XG4gICAgICAgIHR5cGU6IEFjdGlvbnMubG9naW4uc2V0Rmlyc3ROYW1lLFxuICAgICAgICB2YWx1ZTogZmFrZUV2ZW50VmFsdWUsXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3RlZEFjdGlvbik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTZXQgTGFzdCBOYW1lJywgKCkgPT4ge1xuICAgIGl0KCdpcyBhIGZ1bmN0aW9uJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KExvZ2luQWN0aW9ucy5zZXRMYXN0TmFtZSkudG9FcXVhbChleHBlY3QuYW55KEZ1bmN0aW9uKSk7XG4gICAgfSk7XG5cbiAgICBpdCgncmV0dXJucyBhIGRpc3BhdGNoIGZ1bmN0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgZGlzcGF0Y2hGdW5jdGlvbiA9IExvZ2luQWN0aW9ucy5zZXRMYXN0TmFtZShjcmVhdGVGYWtlRXZlbnQoKSk7XG5cbiAgICAgIGV4cGVjdChkaXNwYXRjaEZ1bmN0aW9uKS50b0VxdWFsKGV4cGVjdC5hbnkoRnVuY3Rpb24pKTtcbiAgICB9KTtcblxuICAgIGl0KCdkaXNwYXRjaGVzIGFuIGFjdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tEaXNwYXRjaCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IGRpc3BhdGNoRnVuY3Rpb24gPSBMb2dpbkFjdGlvbnMuc2V0TGFzdE5hbWUoY3JlYXRlRmFrZUV2ZW50KCkpO1xuXG4gICAgICBkaXNwYXRjaEZ1bmN0aW9uKG1vY2tEaXNwYXRjaCk7XG5cbiAgICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdkaXNwYXRjaGVzIHRoZSBjb3JyZWN0IGFjdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tEaXNwYXRjaCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IGZha2VFdmVudFZhbHVlID0gY2hhbmNlLnN0cmluZygpO1xuICAgICAgY29uc3QgZGlzcGF0Y2hGdW5jdGlvbiA9IExvZ2luQWN0aW9ucy5zZXRMYXN0TmFtZShjcmVhdGVGYWtlRXZlbnQoZmFrZUV2ZW50VmFsdWUpKTtcblxuICAgICAgZGlzcGF0Y2hGdW5jdGlvbihtb2NrRGlzcGF0Y2gpO1xuXG4gICAgICBjb25zdCBleHBlY3RlZEFjdGlvbiA9IHtcbiAgICAgICAgdHlwZTogQWN0aW9ucy5sb2dpbi5zZXRMYXN0TmFtZSxcbiAgICAgICAgdmFsdWU6IGZha2VFdmVudFZhbHVlLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KG1vY2tEaXNwYXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXhwZWN0ZWRBY3Rpb24pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2V0IFBhc3N3b3JkIFJlcGVhdCcsICgpID0+IHtcbiAgICBpdCgnaXMgYSBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGV4cGVjdChMb2dpbkFjdGlvbnMuc2V0UGFzc3dvcmRSZXBlYXQpLnRvRXF1YWwoZXhwZWN0LmFueShGdW5jdGlvbikpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgYSBkaXNwYXRjaCBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGRpc3BhdGNoRnVuY3Rpb24gPSBMb2dpbkFjdGlvbnMuc2V0UGFzc3dvcmRSZXBlYXQoY3JlYXRlRmFrZUV2ZW50KCkpO1xuXG4gICAgICBleHBlY3QoZGlzcGF0Y2hGdW5jdGlvbikudG9FcXVhbChleHBlY3QuYW55KEZ1bmN0aW9uKSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGlzcGF0Y2hlcyBhbiBhY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRGlzcGF0Y2ggPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBkaXNwYXRjaEZ1bmN0aW9uID0gTG9naW5BY3Rpb25zLnNldFBhc3N3b3JkUmVwZWF0KGNyZWF0ZUZha2VFdmVudCgpKTtcblxuICAgICAgZGlzcGF0Y2hGdW5jdGlvbihtb2NrRGlzcGF0Y2gpO1xuXG4gICAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGlzcGF0Y2hlcyB0aGUgY29ycmVjdCBhY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRGlzcGF0Y2ggPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBmYWtlRXZlbnRWYWx1ZSA9IGNoYW5jZS5zdHJpbmcoKTtcbiAgICAgIGNvbnN0IGRpc3BhdGNoRnVuY3Rpb24gPSBMb2dpbkFjdGlvbnMuc2V0UGFzc3dvcmRSZXBlYXQoY3JlYXRlRmFrZUV2ZW50KGZha2VFdmVudFZhbHVlKSk7XG5cbiAgICAgIGRpc3BhdGNoRnVuY3Rpb24obW9ja0Rpc3BhdGNoKTtcblxuICAgICAgY29uc3QgZXhwZWN0ZWRBY3Rpb24gPSB7XG4gICAgICAgIHR5cGU6IEFjdGlvbnMubG9naW4uc2V0UGFzc3dvcmRSZXBlYXQsXG4gICAgICAgIHZhbHVlOiBmYWtlRXZlbnRWYWx1ZSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdGVkQWN0aW9uKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NldCBBZGRyZXNzJywgKCkgPT4ge1xuICAgIGl0KCdpcyBhIGZ1bmN0aW9uJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KExvZ2luQWN0aW9ucy5zZXRBZGRyZXNzKS50b0VxdWFsKGV4cGVjdC5hbnkoRnVuY3Rpb24pKTtcbiAgICB9KTtcblxuICAgIGl0KCdyZXR1cm5zIGEgZGlzcGF0Y2ggZnVuY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBkaXNwYXRjaEZ1bmN0aW9uID0gTG9naW5BY3Rpb25zLnNldEFkZHJlc3MoY3JlYXRlRmFrZUV2ZW50KCkpO1xuXG4gICAgICBleHBlY3QoZGlzcGF0Y2hGdW5jdGlvbikudG9FcXVhbChleHBlY3QuYW55KEZ1bmN0aW9uKSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGlzcGF0Y2hlcyBhbiBhY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRGlzcGF0Y2ggPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBkaXNwYXRjaEZ1bmN0aW9uID0gTG9naW5BY3Rpb25zLnNldEFkZHJlc3MoY3JlYXRlRmFrZUV2ZW50KCkpO1xuXG4gICAgICBkaXNwYXRjaEZ1bmN0aW9uKG1vY2tEaXNwYXRjaCk7XG5cbiAgICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdkaXNwYXRjaGVzIHRoZSBjb3JyZWN0IGFjdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tEaXNwYXRjaCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IGZha2VFdmVudFZhbHVlID0gY2hhbmNlLnN0cmluZygpO1xuICAgICAgY29uc3QgZGlzcGF0Y2hGdW5jdGlvbiA9IExvZ2luQWN0aW9ucy5zZXRBZGRyZXNzKGNyZWF0ZUZha2VFdmVudChmYWtlRXZlbnRWYWx1ZSkpO1xuXG4gICAgICBkaXNwYXRjaEZ1bmN0aW9uKG1vY2tEaXNwYXRjaCk7XG5cbiAgICAgIGNvbnN0IGV4cGVjdGVkQWN0aW9uID0ge1xuICAgICAgICB0eXBlOiBBY3Rpb25zLmxvZ2luLnNldEFkZHJlc3MsXG4gICAgICAgIHZhbHVlOiBmYWtlRXZlbnRWYWx1ZSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdGVkQWN0aW9uKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NldCBDaXR5JywgKCkgPT4ge1xuICAgIGl0KCdpcyBhIGZ1bmN0aW9uJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KExvZ2luQWN0aW9ucy5zZXRDaXR5KS50b0VxdWFsKGV4cGVjdC5hbnkoRnVuY3Rpb24pKTtcbiAgICB9KTtcblxuICAgIGl0KCdyZXR1cm5zIGEgZGlzcGF0Y2ggZnVuY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBkaXNwYXRjaEZ1bmN0aW9uID0gTG9naW5BY3Rpb25zLnNldENpdHkoY3JlYXRlRmFrZUV2ZW50KCkpO1xuXG4gICAgICBleHBlY3QoZGlzcGF0Y2hGdW5jdGlvbikudG9FcXVhbChleHBlY3QuYW55KEZ1bmN0aW9uKSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGlzcGF0Y2hlcyBhbiBhY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRGlzcGF0Y2ggPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBkaXNwYXRjaEZ1bmN0aW9uID0gTG9naW5BY3Rpb25zLnNldENpdHkoY3JlYXRlRmFrZUV2ZW50KCkpO1xuXG4gICAgICBkaXNwYXRjaEZ1bmN0aW9uKG1vY2tEaXNwYXRjaCk7XG5cbiAgICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdkaXNwYXRjaGVzIHRoZSBjb3JyZWN0IGFjdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tEaXNwYXRjaCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IGZha2VFdmVudFZhbHVlID0gY2hhbmNlLnN0cmluZygpO1xuICAgICAgY29uc3QgZGlzcGF0Y2hGdW5jdGlvbiA9IExvZ2luQWN0aW9ucy5zZXRDaXR5KGNyZWF0ZUZha2VFdmVudChmYWtlRXZlbnRWYWx1ZSkpO1xuXG4gICAgICBkaXNwYXRjaEZ1bmN0aW9uKG1vY2tEaXNwYXRjaCk7XG5cbiAgICAgIGNvbnN0IGV4cGVjdGVkQWN0aW9uID0ge1xuICAgICAgICB0eXBlOiBBY3Rpb25zLmxvZ2luLnNldENpdHksXG4gICAgICAgIHZhbHVlOiBmYWtlRXZlbnRWYWx1ZSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdGVkQWN0aW9uKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NldCBBZGRyZXNzIFN0YXRlJywgKCkgPT4ge1xuICAgIGl0KCdpcyBhIGZ1bmN0aW9uJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KExvZ2luQWN0aW9ucy5zZXRBZGRyZXNzU3RhdGUpLnRvRXF1YWwoZXhwZWN0LmFueShGdW5jdGlvbikpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgYSBkaXNwYXRjaCBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGRpc3BhdGNoRnVuY3Rpb24gPSBMb2dpbkFjdGlvbnMuc2V0QWRkcmVzc1N0YXRlKGNyZWF0ZUZha2VFdmVudCgpKTtcblxuICAgICAgZXhwZWN0KGRpc3BhdGNoRnVuY3Rpb24pLnRvRXF1YWwoZXhwZWN0LmFueShGdW5jdGlvbikpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2Rpc3BhdGNoZXMgYW4gYWN0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0Rpc3BhdGNoID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgZGlzcGF0Y2hGdW5jdGlvbiA9IExvZ2luQWN0aW9ucy5zZXRBZGRyZXNzU3RhdGUoY3JlYXRlRmFrZUV2ZW50KCkpO1xuXG4gICAgICBkaXNwYXRjaEZ1bmN0aW9uKG1vY2tEaXNwYXRjaCk7XG5cbiAgICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdkaXNwYXRjaGVzIHRoZSBjb3JyZWN0IGFjdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tEaXNwYXRjaCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IGZha2VFdmVudFZhbHVlID0gY2hhbmNlLnN0cmluZygpO1xuICAgICAgY29uc3QgZGlzcGF0Y2hGdW5jdGlvbiA9IExvZ2luQWN0aW9ucy5zZXRBZGRyZXNzU3RhdGUoeyB2YWx1ZTogZmFrZUV2ZW50VmFsdWUgfSk7XG5cbiAgICAgIGRpc3BhdGNoRnVuY3Rpb24obW9ja0Rpc3BhdGNoKTtcblxuICAgICAgY29uc3QgZXhwZWN0ZWRBY3Rpb24gPSB7XG4gICAgICAgIHR5cGU6IEFjdGlvbnMubG9naW4uc2V0QWRkcmVzc1N0YXRlLFxuICAgICAgICB2YWx1ZTogZmFrZUV2ZW50VmFsdWUsXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3RlZEFjdGlvbik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTZXQgWmlwY29kZScsICgpID0+IHtcbiAgICBpdCgnaXMgYSBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGV4cGVjdChMb2dpbkFjdGlvbnMuc2V0WmlwY29kZSkudG9FcXVhbChleHBlY3QuYW55KEZ1bmN0aW9uKSk7XG4gICAgfSk7XG5cbiAgICBpdCgncmV0dXJucyBhIGRpc3BhdGNoIGZ1bmN0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgZGlzcGF0Y2hGdW5jdGlvbiA9IExvZ2luQWN0aW9ucy5zZXRaaXBjb2RlKGNyZWF0ZUZha2VFdmVudCgpKTtcblxuICAgICAgZXhwZWN0KGRpc3BhdGNoRnVuY3Rpb24pLnRvRXF1YWwoZXhwZWN0LmFueShGdW5jdGlvbikpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2Rpc3BhdGNoZXMgYW4gYWN0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0Rpc3BhdGNoID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgZGlzcGF0Y2hGdW5jdGlvbiA9IExvZ2luQWN0aW9ucy5zZXRaaXBjb2RlKGNyZWF0ZUZha2VFdmVudCgpKTtcblxuICAgICAgZGlzcGF0Y2hGdW5jdGlvbihtb2NrRGlzcGF0Y2gpO1xuXG4gICAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGlzcGF0Y2hlcyB0aGUgY29ycmVjdCBhY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRGlzcGF0Y2ggPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBmYWtlRXZlbnRWYWx1ZSA9IGNoYW5jZS5zdHJpbmcoKTtcbiAgICAgIGNvbnN0IGRpc3BhdGNoRnVuY3Rpb24gPSBMb2dpbkFjdGlvbnMuc2V0WmlwY29kZShjcmVhdGVGYWtlRXZlbnQoZmFrZUV2ZW50VmFsdWUpKTtcblxuICAgICAgZGlzcGF0Y2hGdW5jdGlvbihtb2NrRGlzcGF0Y2gpO1xuXG4gICAgICBjb25zdCBleHBlY3RlZEFjdGlvbiA9IHtcbiAgICAgICAgdHlwZTogQWN0aW9ucy5sb2dpbi5zZXRaaXBjb2RlLFxuICAgICAgICB2YWx1ZTogZmFrZUV2ZW50VmFsdWUsXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3RlZEFjdGlvbik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdPcGVuIExvZ2luIE1vZGFsJywgKCkgPT4ge1xuICAgIGl0KCdpcyBhIGZ1bmN0aW9uJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KExvZ2luQWN0aW9ucy5jbG9zZU1vZGFsKS50b0VxdWFsKGV4cGVjdC5hbnkoRnVuY3Rpb24pKTtcbiAgICB9KTtcblxuICAgIGl0KCdyZXR1cm5zIGEgZGlzcGF0Y2ggZnVuY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBkaXNwYXRjaEZ1bmN0aW9uID0gTG9naW5BY3Rpb25zLm9wZW5Mb2dpbk1vZGFsKCk7XG5cbiAgICAgIGV4cGVjdChkaXNwYXRjaEZ1bmN0aW9uKS50b0VxdWFsKGV4cGVjdC5hbnkoRnVuY3Rpb24pKTtcbiAgICB9KTtcblxuICAgIGl0KCdkaXNwYXRjaGVzIGFuIGFjdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tEaXNwYXRjaCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IGRpc3BhdGNoRnVuY3Rpb24gPSBMb2dpbkFjdGlvbnMub3BlbkxvZ2luTW9kYWwoKTtcblxuICAgICAgZGlzcGF0Y2hGdW5jdGlvbihtb2NrRGlzcGF0Y2gpO1xuXG4gICAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGlzcGF0Y2hlcyBhbiBhY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRGlzcGF0Y2ggPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBkaXNwYXRjaEZ1bmN0aW9uID0gTG9naW5BY3Rpb25zLm9wZW5Mb2dpbk1vZGFsKCk7XG5cbiAgICAgIGRpc3BhdGNoRnVuY3Rpb24obW9ja0Rpc3BhdGNoKTtcblxuICAgICAgY29uc3QgZXhwZWN0ZWRBY3Rpb24gPSB7XG4gICAgICAgIHR5cGU6IEFjdGlvbnMubG9naW4udG9nZ2xlTG9naW5Nb2RhbCxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdGVkQWN0aW9uKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ09wZW4gU2lnbnVwIE1vZGFsJywgKCkgPT4ge1xuICAgIGl0KCdpcyBhIGZ1bmN0aW9uJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KExvZ2luQWN0aW9ucy5vcGVuU2lnbnVwTW9kYWwpLnRvRXF1YWwoZXhwZWN0LmFueShGdW5jdGlvbikpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgYSBkaXNwYXRjaCBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGRpc3BhdGNoRnVuY3Rpb24gPSBMb2dpbkFjdGlvbnMub3BlblNpZ251cE1vZGFsKCk7XG5cbiAgICAgIGV4cGVjdChkaXNwYXRjaEZ1bmN0aW9uKS50b0VxdWFsKGV4cGVjdC5hbnkoRnVuY3Rpb24pKTtcbiAgICB9KTtcblxuICAgIGl0KCdkaXNwYXRjaGVzIGFuIGFjdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tEaXNwYXRjaCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IGRpc3BhdGNoRnVuY3Rpb24gPSBMb2dpbkFjdGlvbnMub3BlblNpZ251cE1vZGFsKCk7XG5cbiAgICAgIGRpc3BhdGNoRnVuY3Rpb24obW9ja0Rpc3BhdGNoKTtcblxuICAgICAgZXhwZWN0KG1vY2tEaXNwYXRjaCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2Rpc3BhdGNoZXMgYW4gYWN0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0Rpc3BhdGNoID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgZGlzcGF0Y2hGdW5jdGlvbiA9IExvZ2luQWN0aW9ucy5vcGVuU2lnbnVwTW9kYWwoKTtcblxuICAgICAgZGlzcGF0Y2hGdW5jdGlvbihtb2NrRGlzcGF0Y2gpO1xuXG4gICAgICBjb25zdCBleHBlY3RlZEFjdGlvbiA9IHtcbiAgICAgICAgdHlwZTogQWN0aW9ucy5sb2dpbi50b2dnbGVTaWdudXBNb2RhbCxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChtb2NrRGlzcGF0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdGVkQWN0aW9uKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Nsb3NlIE1vZGFsJywgKCkgPT4ge1xuICAgIGl0KCdpcyBhIGZ1bmN0aW9uJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KExvZ2luQWN0aW9ucy5jbG9zZU1vZGFsKS50b0VxdWFsKGV4cGVjdC5hbnkoRnVuY3Rpb24pKTtcbiAgICB9KTtcblxuICAgIGl0KCdyZXR1cm5zIGEgZGlzcGF0Y2ggZnVuY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBkaXNwYXRjaEZ1bmN0aW9uID0gTG9naW5BY3Rpb25zLmNsb3NlTW9kYWwoKTtcblxuICAgICAgZXhwZWN0KGRpc3BhdGNoRnVuY3Rpb24pLnRvRXF1YWwoZXhwZWN0LmFueShGdW5jdGlvbikpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2Rpc3BhdGNoZXMgYW4gYWN0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0Rpc3BhdGNoID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgZGlzcGF0Y2hGdW5jdGlvbiA9IExvZ2luQWN0aW9ucy5jbG9zZU1vZGFsKCk7XG5cbiAgICAgIGRpc3BhdGNoRnVuY3Rpb24obW9ja0Rpc3BhdGNoKTtcblxuICAgICAgZXhwZWN0KG1vY2tEaXNwYXRjaCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2Rpc3BhdGNoZXMgYW4gYWN0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0Rpc3BhdGNoID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgZGlzcGF0Y2hGdW5jdGlvbiA9IExvZ2luQWN0aW9ucy5jbG9zZU1vZGFsKCk7XG5cbiAgICAgIGRpc3BhdGNoRnVuY3Rpb24obW9ja0Rpc3BhdGNoKTtcblxuICAgICAgY29uc3QgZXhwZWN0ZWRBY3Rpb24gPSB7XG4gICAgICAgIHR5cGU6IEFjdGlvbnMubG9naW4uY2xlYXIsXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QobW9ja0Rpc3BhdGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3RlZEFjdGlvbik7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=